@using WebApplication3.Models.Entities;
@model Order;
@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
  ViewBag.Hours

*@
@{

}
<div>
  <table class="timeline-table">

    <thead class="timeline-headtable">
      <tr>
        <td></td>
        @for (int i = 0; i < 12; i++) {
          <td class="timeline-cells">
            <span class="timeline-hourmark">
              @ViewBag.Hours[i]
            </span>
          </td>
          @for (int j = 0; j < 5; j++) {
            <td class="timeline-cells"></td>
          }
        }
      </tr>
    </thead>

    <tbody class="timeline-content-table">
      @foreach (var m in Model?.Machineries) {
        <tr>
          <td>
            <a class="button-on-table" href="/timeline?IdOrder=@Model.Id&machId=@m?.Id">
              @m?.Name
            </a>
          </td>
          <td class="timeline-cells">
            @foreach (var w in m.Works) {
            <div class="work-for-timeline @w.Type.Figure.Name" style="background-color: @w.Type.BackgroundColor; color: @w.Type.TextColor; border-color: @w.Type.TextColor;
                 width: @(w.TotalMinutes*2)px; position:relative; left: @(w.StartPosition *2-2)px;">
              <a href="/timeline?IdOrder=@Model.Id&machId=@m?.Id&workId=@w.Id" class="button-fill">
                @w.Note

              </a>
            </div>

            }


          </td>
          @for (int i = 0; i < 71; i++) {
            <td class="timeline-cells"></td>
          }
        </tr>
      }
    </tbody>

  </table>


</div>