@using WebApplication3.Models.Entities;
@model IList<Employee>
@{
    
    ViewData["Title"] = "Employees";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="staff-table">

    <div class="find">
      <form class="find-form" method="get">
        <input type="hidden" name="id" value="0" />
        <input type="text" name="find" class="find-input"
               placeholder="Введите строку для поиска" maxlength="50" />
        <button type="submit" class="button button-simple">
          <img class="icon" src="~/source/Image/find.png" alt="find" /> Поиск
        </button>
        <button type="submit" class="button button-simple" formaction="~/staff/add">
          Добавить
        </button>
      </form>
    </div>
    <table class="machinery-table">
        <tr class="table-header">
            <td><h6>Id</h6></td>
            <td><h6>Фамилия</h6></td>
            <td><h6>Имя</h6></td>
            <td><h6>Отчество</h6></td>
            <td><h6>Табельный номер</h6></td>
            <td><h6>Должность</h6></td>
            <td colspan="2"></td>
        </tr>
        @foreach (var emp in Model) {
            <tr class="table-content">
                <td><p>@emp.Id</p></td>
                <td><p>@emp.Lastname</p></td>
                <td><p>@emp.Name</p></td>
                <td><p>@emp.Fathername</p></td>
                <td><p>@emp.TableNumber</p></td>
                <td><p>@if(emp.Position !=null)
                    @emp.Position.Subname
                    </p>
                </td>
                <td class="active-cell"><a class="button-on-table" href="~/staff/add?id=@emp.Id"><img class="icon" src="~/source/Image/change.png" alt="change" /></a></td>
                <td class="active-cell"><a class="button-on-table" href="~/staff/delete?id=@emp.Id"><img class="icon" src="~/source/Image/delete.png" alt="delete" /></a></td>
            </tr>
        }
    </table>
</div>